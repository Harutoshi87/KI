-- [III] JOIN : 2개 이상의 테이블을 연결하여 데이터를 검색하는 방법

SELECT * FROM EMP WHERE ENAME='SCOTT';

-- ★★★ 1. EQUI JOIN : 공통 필드값이 일치되는 조건만 JOIN
SELECT * -- (해석하는 순서 3)
    FROM EMP E, DEPT D -- (해석하는 순서 1 : 이후 테이블의 별칭으로만 사용)
    WHERE ENAME='SCOTT' AND E.DEPTNO = D.DEPTNO; -- (해석하는 순서 2)
SELECT EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, D.DEPTNO, DNAME, LOC
    FROM EMP E, DEPT D
    WHERE E.DEPTNO=D.DEPTNO;
SELECT EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, D.*
    FROM EMP E, DEPT D
    WHERE E.DEPTNO=D.DEPTNO;

-- 2. NON-EQUI JOIN : 동일한 컬럼 없이 다른 조건을 사용하여 JOIN
SELECT * FROM EMP WHERE ENAME = 'SCOTT';
SELECT * FROM SALGRADE;
SELECT * FROM EMP, SALGRADE WHERE ENAME='SCOTT' AND SAL BETWEEN LOSAL AND HISAL;

-- ▶ 3. SELF-JOIN : 한 테이블 내에서 JOIN
SELECT EMPNO, ENAME, MGR FROM EMP WHERE ENAME='SMITH'; -- 7902?
SELECT EMPNO, ENAME FROM EMP;
SELECT WORKER.EMPNO, WORKER.ENAME, WORKER.MGR, MANAGER.EMPNO, MANAGER.ENAME 매니저
  FROM EMP WORKER, EMP MANAGER
  WHERE WORKER.ENAME = 'SMITH' AND WORKER.MGR=MANAGER.EMPNO;

-- ▶ 4. OUTER JOIN : EQUI/SELF JOIN시 조건에 만족하니 않는 행까지 나타나게
-- (1) SELF JOIN에서의 OUTER JOIN
SELECT W.ENAME, W.MGR, M.EMPNO, M.ENAME
  FROM EMP W, EMP M
  WHERE W.MGR = M.EMPNO(+);


오라클 구문에서 (+) 는 “이 테이블을 기준에서 제외하고라도 결과를 보여줘라”라는 뜻
    
-- (2) EQUI JOIN에서의 OUTER JOIN
SELECT * FROM EMP; -- 14행 (부서번호 10, 20, 30)
SELECT * FROM DEPT; -- 4행(부서번호 10, 20, 30, 40)
SELECT * FROM EMP E, DEPT D
    WHERE  E.DEPTNO(+) = D.DEPTNO;